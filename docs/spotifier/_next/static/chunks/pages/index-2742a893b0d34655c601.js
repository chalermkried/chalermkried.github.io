_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{RNiq:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),i=n.n(a),r=n("o0o1"),o=n.n(r),c=n("HaE+"),s=n("nOHt"),l=n("/Lg7"),u=n("qoWs"),p=n("GTwo"),d=n("vOnD").a.section.withConfig({displayName:"style__Wrapper",componentId:"sc-8nlj2r-0"})(["display:flex;align-items:center;justify-content:center;min-height:100vh;.auth{background-color:var(--bg2);border:1px solid var(--bd);padding:40px 32px;width:100%;min-height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;@media ","{width:400px;min-height:auto;}.title{margin:0 0 40px;}.loading{opacity:0.5;pointer-events:none;}.warning{color:var(--err);font-size:14px;margin-bottom:16px;}.menu{margin:8px 0;}}"],l.d.tabletAndUp),f=i.a.createElement;var h=function(){var e=Object(s.useRouter)(),t=Object(a.useState)(!1),n=t[0],i=t[1],r=Object(a.useState)(!1),h=r[0],g=r[1],m=Object(a.useState)(!0),w=m[0],v=m[1];Object(a.useEffect)((function(){var t,n=new URLSearchParams(window.location.search).get("error");if(n)n===l.b?i(!0):n===l.c&&g(!0),e.replace("/");else{var a=new URLSearchParams(window.location.hash.replace("#","?")).get("access_token");if(a)return t=a,localStorage.setItem(l.g,t),localStorage.setItem(l.f,"true"),void e.push("/feed")}v(!1)}),[e]);var b=function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(null===n||void 0===n?void 0:n.preventDefault)&&n.preventDefault(),v(!0),t.prev=2,t.next=5,Object(u.d)();case 5:e.push("/feed"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),v(!1);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return w?f(p.a,null):f(d,null,f("div",{className:"auth"},f("h1",{className:"title"},l.h),h&&f("p",{className:"warning"},"Your token has expired, please log in again."),n&&f("p",{className:"warning"},"There was something with Spotify authentication, please try again."),f("a",{className:"menu".concat(w?" loading":""),href:"https://accounts.spotify.com/authorize?client_id=".concat(l.e,"&response_type=token&redirect_uri=").concat(encodeURIComponent(window.location.origin)),target:"_self"},"Continue with Spotify"),f("a",{className:"menu".concat(w?" loading":""),href:"/feed",onClick:b},"Access as Guest")))},g=n("UJx2"),m=i.a.createElement;t.default=function(){var e=Object(s.useRouter)(),t=Object(a.useState)(void 0),n=t[0],r=t[1];return Object(a.useEffect)((function(){localStorage.getItem(l.g)?e.push("/feed"):r(!1)}),[e]),m(i.a.Fragment,null,m(g.a,null),m("main",null,m(!1===n?h:p.a,null)))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,1,3]]]);